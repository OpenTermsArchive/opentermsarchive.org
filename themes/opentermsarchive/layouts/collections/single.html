{{ define "main" }}
  <div class="collection">

    <div class="container container--wide container--has-no-padding-y">
      <div class="collection__header container container--1211">
        {{ $image := resources.Get (printf "/images/collections/%s.png" (.Params.name | urlize)) }}
        {{ with $image }}
          <div class="collection__header__image">
            <img src="{{ .RelPermalink }}" alt="">
          </div>
        {{ end }}
        <div class="collection__header__content">
          <div class="collection__header__infos">
            <h1>{{ .Title }}</h1>
            {{ with .Params.industries }}<h2 class="h3 h3--ultralight">{{ index . site.Language.Lang | safeHTML }}</h2>{{ end }}
          </div>
          <ul class="collection__header__actions">
            <li>
              <a class="button" href="https://github.com/openTermsArchive/{{ $.Params.id }}-versions" target="_blank" rel="noopener">
                {{ i18n "collections.cta.browse" }}
                <i class="icon ml--2xs" data-lucide="search"></i>
              </a>
            </li>
            <li>
              <a class="button" href="https://github.com/openTermsArchive/{{ $.Params.id }}-versions/releases/latest" target="_blank" rel="noopener">
                {{ i18n "collections.cta.download" }}
                <i class="icon ml--2xs" data-lucide="download"></i>
              </a>
            </li>
            {{ with $.Params.endpoint }}
              <li>
                <a class="button" href="{{ . }}/docs" target="_blank" rel="noopener">
                  {{ i18n "collections.cta.endpoint" }}
                  <i class="icon ml--2xs" data-lucide="wrench"></i>
                </a>
              </li>
            {{ end }}
          </ul>
        </div>
      </div>
    </div>

    <div class="container container--wide container--has-no-padding-y container--is-gray">
      <div class="collection__metadatas container container--1211">
        <div class="collection__metadatas__desc">
          {{ i18n "collections.metadatas.placeholder" | safeHTML }}
        </div>
        <div class="collection__metadatas__items">
          {{ with .Params.stats.services }}
            {{ partial "collection-metadata.html" (dict "title" (i18n "collections.services") "icon" "folder" "desc" .) }}
          {{ end }}
          {{ with .Params.stats.documents }}
            {{ partial "collection-metadata.html" (dict "title" (i18n "collections.documents") "icon" "file" "desc" .) }}
          {{ end }}
          {{ with .Params.languages }}
            {{ $languages := slice }}
            {{ range . }}
              {{ if eq . "*" }}
                {{ $languages = $languages | append (i18n "collections.language_various") }}
              {{ else if eq . "*eu" }}
                {{ $languages = $languages | append (i18n "collections.language_europe") }}
              {{ else }}
                {{ $languages = $languages | append ( strings.FirstUpper (index site.Data.display_names.languages site.Language.LanguageCode .)) }}
              {{ end }}
            {{ end }}
            {{ partial "collection-metadata.html" (dict "title" (i18n "collections.language" (len $languages)) "icon" "message-circle" "desc" (delimit $languages ", ")) }}
          {{ end }}
          {{ with .Params.jurisdictions }}
            {{ $jurisdictions := slice }}
            {{ range . }}
              {{ $jurisdictions = $jurisdictions | append ( strings.FirstUpper (index site.Data.display_names.regions site.Language.LanguageCode .)) }}
            {{ end }}
            {{ partial "collection-metadata.html" (dict "title" (i18n "collections.jurisdiction" (len $jurisdictions)) "icon" "map" "desc" (delimit $jurisdictions ", ")) }}
          {{ end }}
        </div>
      </div>
    </div>

  </div>
{{ end }}
